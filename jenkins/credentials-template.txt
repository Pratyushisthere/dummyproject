=== Jenkins Credentials Configuration ===

IMPORTANT: All credentials below MUST be configured in Jenkins before running the pipeline.
Go to: Jenkins → Manage Jenkins → Credentials → System → Global credentials → Add Credentials

=== APPLICATION CREDENTIALS (Required for Deploy Stage) ===

1. MongoDB Connection String
   ID: mongo-url
   Type: Secret text
   Secret: mongodb+srv://username:password@cluster.mongodb.net/?appName=YourApp
   Example: mongodb+srv://proj:projpass@cluster0.be3iqeu.mongodb.net/?appName=Cluster0

2. Session Secret Key
   ID: session-secret
   Type: Secret text
   Secret: your-random-secret-key-here
   Example: WORK (use a strong random string in production)

3. OAuth Client ID
   ID: client-id
   Type: Secret text
   Secret: your-oauth-client-id
   Example: MzA0ZWZkNDAtMDc3Yi00

4. OAuth Client Secret
   ID: client-secret
   Type: Secret text
   Secret: your-oauth-client-secret
   Example: MGIzZjI3MzYtOGVlZC00

5. OAuth Token URL
   ID: token-url
   Type: Secret text
   Secret: https://login.w3.ibm.com/v1.0/endpoint/default/token

6. OAuth Authorization Endpoint
   ID: auth-endpoint
   Type: Secret text
   Secret: https://login.w3.ibm.com/v1.0/endpoint/default/authorize

7. JWKS URL
   ID: jwks-url
   Type: Secret text
   Secret: https://login.w3.ibm.com/v1.0/endpoint/default/jwks

8. JWT Issuer
   ID: jwt-issuer
   Type: Secret text
   Secret: https://login.w3.ibm.com/oidc/endpoint/default

9. OAuth Redirect URI
   ID: redirect-uri
   Type: Secret text
   Secret: http://YOUR_SERVER_IP:8000/auth/ibm/callback
   Example: http://127.0.0.1:8000/auth/ibm/callback

10. Frontend URL
    ID: frontend-url
    Type: Secret text
    Secret: http://YOUR_SERVER_IP:8080
    Example: http://127.0.0.1:8080

=== CONTAINER REGISTRY CREDENTIALS (Required for Push Stage) ===

11. Container Registry URL
    ID: container-registry-url
    Type: Secret text
    Secret: docker.io (or quay.io, ghcr.io, etc.)

12. Registry Login Credentials
    ID: registry-credentials
    Type: Username with password
    Username: your-registry-username
    Password: your-registry-password/token

=== OPTIONAL CREDENTIALS ===

13. Slack Webhook (for notifications)
    ID: slack-webhook-url
    Type: Secret text
    Secret: https://hooks.slack.com/services/YOUR/WEBHOOK/URL

=== QUICK SETUP CHECKLIST ===

□ All 10 application credentials configured (mongo-url through frontend-url)
□ Registry credentials configured (container-registry-url, registry-credentials)
□ Test credentials by running a Jenkins build
□ Update REGISTRY_NAMESPACE in Jenkinsfile line 7 to match your registry username
□ Verify podman-compose is installed on Jenkins agent

=== TROUBLESHOOTING ===

If Deploy stage fails silently:
- Check that ALL credential IDs match exactly (case-sensitive)
- Verify credentials contain actual values (not placeholders)
- Check Jenkins system log for credential loading errors

If Health Check fails:
- Verify containers are running: podman ps
- Check container logs: podman logs blu-reserve-backend
- Ensure ports 8000 and 8080 are not already in use
